---
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";
import { texts } from "@utils/texts";
import logoCRT from "@assets/fotos/logos-crteam/CRTEAM BLANCO.png";
const year = new Date().getFullYear();

const navigationSections = [
  {
    title: "Descubre Más",
    ariaLabel: "Información y Redes Sociales",
    items: [
      {
        href: texts.links.instagram,
        icon: "mdi:instagram",
        label: "Instagram",
      },
      {
        href: texts.links.dossier,
        icon: "mdi:text-box-outline",
        label: "Dossier de Empresa",
      },
      {
        href: texts.links.wallpapers,
        icon: "mdi:wallpaper",
        label: "Wallpapers (.zip)",
      },
    ],
  },
] as const;
---

<footer
  class="bg-base-300 text-base-content flex flex-col lg:flex-row justify-center lg:justify-between items-center lg:items-start gap-6 lg:gap-8 py-8 lg:py-12 mx-auto px-4 sm:px-6 md:px-8 lg:px-16 xl:px-24 2xl:px-32"
  role="contentinfo"
  aria-label="Footer"
>
  <aside class="text-center lg:text-left max-w-xs">
    <Image
      src={logoCRT}
      alt="Canarias Racing Team Logo"
      loading="lazy"
      sizes="(max-width: 768px) 80px, 138px"
      class="h-8 w-auto mb-4 mx-auto lg:mx-0"
    />
    <div class="flex items-center justify-center lg:justify-start gap-2 mb-1">
      <Icon name="mdi:copyright" class="h-4 w-4" aria-label="Copyright Icon" />
      <p class="font-bold text-sm">
        {year} Canarias Racing Team
      </p>
    </div>
    <p class="text-sm opacity-75">Todos los derechos reservados</p>
    <a
      href="https://tomas2p.vercel.app"
      class="link link-hover justify-start block text-sm mb-1 opacity-75 hover:opacity-100"
      target="_blank"
      rel="noopener noreferrer"
    >
      Hecho por @Tomas2p
    </a>
  </aside>

  <div class="flex flex-row gap-4 justify-around self-center">
    {
      navigationSections.map((section) => (
        <nav aria-label={section.ariaLabel} class="text-left sm:w-1/2">
          <p class="text-sm font-bold uppercase mb-4 text-gray-400">
            {section.title}
          </p>
          {section.items.map((item) => {
            const isSocial = "icon" in item;
            return (
              <a
                class={`link link-hover justify-start text-sm mb-2 ${isSocial ? "flex items-center hover:text-white" : "block"}`}
                href={item.href}
                aria-label={item.label}
                target={isSocial ? "_blank" : undefined}
                rel={isSocial ? "noopener noreferrer" : undefined}
              >
                {isSocial && <Icon name={item.icon} class="h-4 w-4 mr-2" />}
                <span>{item.label}</span>
              </a>
            );
          })}
        </nav>
      ))
    }

    <form
      id="contact"
      class="text-center px-2 lg:text-left sm:w-1/2"
      action={`mailto:crteam@ull.edu.es`}
      method="POST"
      enctype="text/plain"
    >
      <p class="text-sm font-bold uppercase mb-4 text-gray-400">Contáctanos</p>
      <fieldset class="w-full max-w-xs mx-auto lg:mx-0">
        <div class="flex flex-col sm:flex-row gap-2 sm:join">
          <input
            id="email"
            name="email"
            type="email"
            placeholder="username@site.com"
            class="input join-item bg-neutral-700 border-neutral-600 text-center sm:text-left text-white placeholder-gray-400 w-full text-sm"
            required
          />
          <button
            class="btn join-item bg-primary text-black border-none font-semibold text-sm"
            >Contactar</button
          >
        </div>
      </fieldset>
    </form>
  </div>
</footer>
