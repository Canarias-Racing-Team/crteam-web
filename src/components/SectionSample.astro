---
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";
import type { SectionSampleLinkType } from "@/types";

interface Props {
  title: string;
  description?: string;
  image?: string;
  id?: string;
  link?: SectionSampleLinkType;
  className?: string;
}

const { title, description, image, id, link, className = "" } = Astro.props;
---

<article
  class={`card bg-base-100 shadow-lg hover:shadow-xl transition-shadow duration-300 ${className}`}
  id={id}
>
  {
    image && (
      <figure class="relative overflow-hidden">
        <img
          src={image}
          alt={title}
          class="w-full h-48 md:h-64 object-cover transition-transform duration-300 hover:scale-105"
          loading="lazy"
        />
      </figure>
    )
  }

  <div class="card-body">
    <h2 class="card-title text-lg md:text-xl font-bold text-base-content mb-2">
      {title}
    </h2>

    {
      description && (
        <p class="text-base-content/80 text-sm md:text-base mb-4 leading-relaxed">
          {description}
        </p>
      )
    }

    <slot />

    {
      link && (
        <div class="card-actions justify-end mt-4">
          <a
            href={link.href}
            class="btn btn-primary btn-sm md:btn-md gap-2"
            aria-label={`${link.text} - ${title}`}
          >
            {link.text}
            <Icon name="mdi:arrow-right" class="w-4 h-4" />
          </a>
        </div>
      )
    }
  </div>
</article>
