---
import "@assets/app.css";
import Navbar from "@components/Navbar.astro";
import Footer from "@components/Footer.astro";
import FlagDivider from "@components/FlagDivider.astro";
import SeoWrapper from "@components/SeoWrapper.astro";
import Analytics from "@vercel/analytics/astro";
import  SpeedInsights  from "@vercel/speed-insights/astro"

const {
  title,
  description,
  path,
  image,
} = Astro.props;
---

<!doctype html>
<html lang="es" data-theme="forest">
  <head>
    <SeoWrapper
      title={`CRTeam${title ? " - " + title : ""}`}
      description={description}
      path={path}
      image={image}
    />

    <!-- Preconnect a recursos crÃ­ticos externos para mejorar LCP -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />

    <!-- Precarga de fuentes para LCP -->
    <link
      rel="preload"
      as="style"
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&display=swap"
      media="all"
    />
    <noscript>
      <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&display=swap"
      />
    </noscript>

    <!-- DaisyUI: carga diferida para mejorar LCP -->
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@5"
      rel="stylesheet"
      type="text/css"
      media="print"
      onload="this.media='all'"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@5/themes.css"
      rel="stylesheet"
      type="text/css"
      media="print"
      onload="this.media='all'"
    />
  </head>
  <body>
    <Navbar />
    <main id="main-content">
      <slot />
    </main>
    <FlagDivider class="mt-5 md:mt-15" />
    <Footer />
    <Analytics />
    <SpeedInsights />
  </body>
</html>
